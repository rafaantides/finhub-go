-- Create "categories" table
CREATE TABLE "public"."categories" ("id" uuid NOT NULL, "created_at" timestamptz NOT NULL, "updated_at" timestamptz NOT NULL, "name" character varying NOT NULL, "description" character varying NULL, "color" character varying NOT NULL, PRIMARY KEY ("id"));
-- Create "payment_status" table
CREATE TABLE "public"."payment_status" ("id" uuid NOT NULL, "created_at" timestamptz NOT NULL, "updated_at" timestamptz NOT NULL, "name" character varying NOT NULL, "description" character varying NULL, PRIMARY KEY ("id"));
-- Create "invoices" table
CREATE TABLE "public"."invoices" ("id" uuid NOT NULL, "created_at" timestamptz NOT NULL, "updated_at" timestamptz NOT NULL, "amount" numeric(10,2) NOT NULL, "title" character varying NOT NULL, "issue_date" timestamptz NULL, "due_date" timestamptz NOT NULL, "status_id" uuid NULL, PRIMARY KEY ("id"), CONSTRAINT "invoices_payment_status_status" FOREIGN KEY ("status_id") REFERENCES "public"."payment_status" ("id") ON UPDATE NO ACTION ON DELETE SET NULL);
-- Create "debts" table
CREATE TABLE "public"."debts" ("id" uuid NOT NULL, "created_at" timestamptz NOT NULL, "updated_at" timestamptz NOT NULL, "amount" numeric(10,2) NOT NULL, "title" character varying NOT NULL, "purchase_date" timestamptz NOT NULL, "due_date" timestamptz NULL, "invoice_id" uuid NULL, "category_id" uuid NULL, "status_id" uuid NULL, PRIMARY KEY ("id"), CONSTRAINT "debts_categories_category" FOREIGN KEY ("category_id") REFERENCES "public"."categories" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, CONSTRAINT "debts_invoices_invoice" FOREIGN KEY ("invoice_id") REFERENCES "public"."invoices" ("id") ON UPDATE NO ACTION ON DELETE CASCADE, CONSTRAINT "debts_payment_status_status" FOREIGN KEY ("status_id") REFERENCES "public"."payment_status" ("id") ON UPDATE NO ACTION ON DELETE SET NULL);
